---
layout: post
category: "python"
---

# 正则表达式（二）
**一、字符的分类**

**常用字符（``\d \s \w  +``）**

```python
#注解1:re.compile(r'\d+\s\w+') 表示表示匹配的文本有一个或多个数字(\d)，接下来有一个空白字符(\s)，然后是一个或多个字母/数字／下划线(\w+)


def regex1():
    xm_as_regex          = re.compile( r'\d+\s\w+' )
    print "re.compile(r'\d+\s\w+') 表示表示匹配的文本有一个或多个数字(\d)，" \
          "接下来有一个空白字符(\s)，然后是一个或多个字母/数字／下划线(\w+)"
    result               = xm_as_regex.findall( '12 drummers, 11 pipers, 10 lords, 9 ladies,'
                                                ' 8 maids, 7 swans, 6 geese, 5 rings,'
                                                ' 4 birds, 3 hens, 2 doves, 1 partridge' 
                                                )
    for item in result:
        print item 
        
               
```

**建立自己的字符分类 '[]' 的使用，匹配括号内的任意字符**

```python
# 注解1：在括号内，普通的正则表达式的符号不会被解释，在匹配 '.','*','?' 或 '()' 字符不需要在前面加上斜杠转义
# 注解2：在字符分类的左括号后加上一个插入字符 '^' 可以得到非字符类 

def regex2():
    str                  = 'RoboCop eats baby food. BABY FOOD'
    vowel_regex          = re.compile( r'[aeiouAEIOU]' )
    result               = vowel_regex.findall( str )
    for item in result:
        print item

    print "注解1：在括号内，普通的正则表达式的富豪不会被解释，在匹配 '.','*','?' 或 '()' 字符不需要在前面加上斜杠转义"

    print "注解2：在字符分类的左括号后加上一个插入字符 '^' 可以得到非字符类 "

    consonant_regex      = re.compile( r'[^aeiouAEIOU]' )
    result               = consonant_regex.findall( str )
    for item in result:
        print item
```

**插入字符和美元字符**

1. 在正则表达式的开始出插入符号 ``^``， 表示匹配必须发生在被查找文本的开始处。
2. 在正则表达式的末尾加上 ``$``，表示该字符必须以这个正则表达式的模式结束。
3.  也可以同时使用 ``^`` 和 ``$`` 表示整个字符串必须匹配该模式，单单匹配某个子集是不够的。


```python
# '^' 的使用


def regex3():
    begin_with_hello     = re.compile( r'^Hello' )
    result               = begin_with_hello.search( 'Hello World!' )
    print "匹配以 'Hello' 开始的字符串 结果是：" + result.group()

    print '由于没有字符串不是以 Hello 开始 结果是:'
    print begin_with_hello.search( 'He said Hello' ) is None
    
    # 结果:
    # 匹配以 'Hello' 开始的字符串 结果是：Hello
    # 由于没有字符串不是以 Hello 开始 结果是:
    # True
```

```python
# '$' 的使用


def regex4():
    ends_with_number    = re.compile( r'\d$' )
    result              = ends_with_number.search( 'Your number is 42' )
    print '匹配以数字 0-9 结束的字符串 结果是:'  + result.group()
    print '由于没有以数字结尾 结果是:'
    print ends_with_number.search( 'Your number is Two' ) is None

    # 结果:
    # 匹配以 'Hello' 开始的字符串 结果是：Hello
    # 由于没有字符串不是以 Hello 开始 结果是:
    # True
```

```python
# '$' 和 '^' 的同时利用

def regex5():
    whole_string_num    = re.compile( r'^\d+$' )
    result              = whole_string_num.search( '123456789' )
    print '匹配从开头到结尾都是数字的字符串 结果是:' + result.group()
    print '由于没有匹配的字符串中间有非数字 结果是:'
    print whole_string_num.search( '12 3456789' ) is None

    # 结果:
    # 匹配从开头到结尾都是数字的字符串 结果是:123456789
    # 由于没有匹配的字符串中间有非数字 结果是:
    # True
```






